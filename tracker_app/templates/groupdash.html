{% extends "base.html" %}

{% block page_content %}

<!--table to display members (unstyled)-->
<p>{{ weeks.0.0 }}</p> <!-- TODO -->

<table style="min-width: 40vh;">
    <tbody>
        <tr>
            <th>Name</th>
            <th>Role/s</th>

            {% for t in tasks %}
                <th>{{ t.categoryName }}</th>
            {% endfor %}
        </tr>

    <!--{% for w in weeks %}-->
        {% for m in weeks.0.1 %}
        <tr style='cursor: pointer; cursor: hand;' onclick="window.location='/dashboard/{{ group.pk }}/{{ m.0.pk }}/';">
            
            {% if active_member == m.0 %}     <!-- Indicate which group member is selected, temp TODO -->
                <td class="selected-mem">{{ m.0.person.get_full_name }}</td>
                <td>{{ m.0.roles }}</td>
            {% else %}
                <td>{{ m.0.person.get_full_name }}</td>
                <td>{{ m.0.roles }}</td>
            {% endif %}

            {% for t in m.1 %}
                <td>{{ t }}</td>
            {% endfor %}
        </tr>
        
        {% endfor %}
    <!--{% endfor %}-->
</tbody>
</table>


<!--form to create new time/task logs
    Decided to go with a different approach:

    * user clicks a button (New Log) which takes them to logging a MemberEntry
    * if the Taskcategory isnt available in the dropdown of the MemberEntry form they have the option of making a new one
    * if they make a new one, this takes them to the TaskCategory form.

    None of the above has been implemented and only the New Log button should belong in this template.
    Kept this code around for reference when i go to make the above forms. -->

{% if not is_owner %}
<form method="POST" style="margin-top: 10vh;"> {% csrf_token %}
    <label for="hours">Hours</label>
    <input name="hours" type="number" id="hours" min="0.5" step="0.5">

    <label for="task">Task</label>
    <select name="task" id="task">
        {% for t in tasks %}
            <option value="{{ t.categoryName }}">{{t.categoryName}}</option>
        {% endfor %}
    </select>

    <input type="submit">
</form>
{% endif %}


{% endblock %}